using System.Collections.Generic;
using System.Web.Mvc;
using ValmiStore.Model.Entities.Configuration.Features;
using ValmiStore.Model.Entities.User;
using Webmall.Model.Repositories.Abstract;
using Webmall.UI.Core;
using Webmall.UI.Core.Attributes;

namespace Webmall.UI.Controllers
{
    [Authorize]
    [FeatureFilter(typeof(CabinetFeatures), nameof(CabinetFeatures.UserNotifications))]
    public class UserNotificationsController : Controller
    {
        private IUserRepository UserRepository { get; set; }

        public UserNotificationsController(IUserRepository userRepository)
        {
            UserRepository = userRepository;
        }

        // GET: UserNotifications
        public ActionResult Index()
        {
            var model = new List<NotificationHistoryItem>(); // UserRepository.GetNotifications(SessionHelper.CurrentUser);
            //model.Add(new NotificationHistoryItem
            //{
            //    Text = "<br><br>Товар \"под заказ\" не оприходован в указанный срок!<br><br>" +
            //           "<table width=\"95%\" border=\"1\" align=\"center\">" +
            //           "<tr><td><b>№ заказа</b></td><td><b>Дата заказа</b></td><td><b>Дата счета</b></td><td><b>Код</b></td><td><b>Покупатель</b></td>     <td><b>Склад</b></td><td><b>Сумма с НДС</b></td><td><b>Позиций</b></td><td><b>Статус</b></td><td><b>Создатель</b></td></tr><br><br>Товар \"под заказ\" не оприходован в указанный срок!<br><br><table width=\"95%\" border=\"1\" align=\"center\"><tr><td><b>№ заказа</b></td><td><b>Дата заказа</b></td><td><b>Дата счета</b></td><td><b>Код</b></td><td><b>Покупатель</b></td>     <td><b>Склад</b></td><td><b>Сумма с НДС</b></td><td><b>Позиций</b></td><td><b>Статус</b></td><td><b>Создатель</b></td></tr>" +
            //           "<tr>CHPZR03945900   01.11.2017      02.11.2017      38556  AUTO TRANSMISIE SRL                      CHISINAU, str.Petricani, 17    184934.64       23         Открыт                    Густинович Р.И.          </tr><tr>CHPZR03991653   01.12.2017      29.11.2017      36154  Card 1                                   BALTI, str.Aerodromului, 7A    3180.06         3          Собран                    Ницуляк А.А.             </tr><tr>CHPZR03997773   01.12.2017      04.12.2017      36549  Mardari Ruslan                           CHISINAU, str.Petricani, 17    500.64          1          Собран                    Русу К.В.                </tr><tr>CHPZR03998252   01.12.2017      04.12.2017      17172  Glinca Sergiu PF                         CHISINAU, str.Petricani, 17    253.92          1          Открыт                    Никифоряк И.В.           </tr><tr>CHPZR03999055   01.12.2017      04.12.2017      39195  Bairamov Vaghit PF                       CHISINAU, str.Petricani, 17    947.46          2          Открыт                    Павлинчук К.И.           </tr><tr>KTPZR03999957   02.12.2017      04.12.2017      25546  Hitrov Vladimir PF                       COMRAT, str.Victoriei, 115     217.08          1          Собран                    Бурлак  В.И.             </tr><tr>SBPZR04000260   02.12.2017      04.12.2017      25964  Solomud Igor PF                          BALTI, str.Aerodromului, 7A    138.84          1          Собран                    Веб М..                  </tr><tr>CHPZR04001177   04.12.2017      05.12.2017      48007  ESAPAMENT COM SRL                        CHISINAU, str.Petricani, 17    104.52          1          Собран                    Веб М..                  </tr><tr>CHPZR04002025   04.12.2017      05.12.2017      38556  AUTO TRANSMISIE SRL                      CHISINAU, str.Petricani, 17    237817.08       20         Открыт                    Раилян А.В.              </tr><tr>CHPZR04002083   04.12.2017      05.12.2017      57667  Guleac Andrei PF2                        CHISINAU, str.Petricani, 17    1486.80         2          Собран                    Емелин Д.В.              </tr><tr>CHPZR04002085   04.12.2017      05.12.2017      18716  COLOMIETS SLAVA E...                     CHISINAU, str.Petricani, 17    2041.50         25         Собран                    Тодор Д.Ю.               </tr><tr>CHPZR04002496   04.12.2017      05.12.2017      29722  Rynda Denis                              CHISINAU, str.Petricani, 17    251.64          1          Собран                    Русу К.В.                </tr><tr>CHPZR03901867   05.10.2017      06.10.2017      37567  Riscan Sergiu                            CHISINAU, str.Petricani, 17    1074.72         1          Собран                    Русу К.В.                </tr><tr>CHPZR04002699   05.12.2017      06.12.2017      47775  Cuzenco Vladimer                         CHISINAU, str.Petricani, 17    958.02          1          Открыт                    Павлинчук К.И.           </tr><tr>CHPZR04003008   05.12.2017      06.12.2017      31928  Railean Eugen                            CHISINAU, str.Petricani, 17    1017.24         1          Собран                    Райлян Е.В.              </tr><tr>CHPZR04003711   05.12.2017      06.12.2017      17564  Ceruta Tudor                             CHISINAU, str.Petricani, 17    1031.10         2          Открыт                    Черуца Т.Ф.              </tr><tr>CHPZR04004374   05.12.2017      06.12.2017      46793  Macarov Oleg                             CHISINAU, str.Petricani, 17    49.68           1          Собран                    Павлинчук К.И.           </tr><tr>SBPZR04003470   05.12.2017      06.12.2017      27806  Ciobanu Anatolie PF                      BALTI, str.Aerodromului, 7A    526.62          1          Собран                    Веб М..                  </tr><tr>SBPZR04004168   05.12.2017      06.12.2017      56949  Rogoscenco Alexandr PF                   BALTI, str.Aerodromului, 7A    99.90           1          Собран                    Веб М..                  </tr><tr>CHPZR03262863   06.08.2016      08.08.2016      899    Розничный покупатель                     CHISINAU, str.Petricani, 17    7476.30         1          Открыт                    Бадюк  А.В.              </tr><tr>CHPZR04004817   06.12.2017      07.12.2017      35699  Vortolomei Andrian PF                    CHISINAU, str.Petricani, 17    180.78          1          Собран                    Тодор Д.Ю.               </tr><tr>CHPZR04004978   06.12.2017      07.12.2017      57616  Bolotovici Andrei PF2                    CHISINAU, str.Petricani, 17    138.48          1          Собран                    Веб М..                  </tr><tr>CHPZR04004979   06.12.2017      07.12.2017      57616  Bolotovici Andrei PF2                    CHISINAU, str.Petricani, 17    140.52          1          Собран                    Веб М..                  </tr><tr>CHPZR04005182   06.12.2017      07.12.2017      35730  Labunet Alexandru                        CHISINAU, str.Petricani, 17    265.98          5          Открыт                    Русу И.Л.                </tr><tr>CHPZR04006041   06.12.2017      07.12.2017      25103  Lucic Igor                               CHISINAU, str.Petricani, 17    79.98           1          Собран                    Ротарь Ю.А.              </tr><tr>CHPZR04006303   06.12.2017      07.12.2017      25042  Cunev Vitali PF                          CHISINAU, str.Petricani, 17    537.78          1          Собран                    Веб М..                  </tr><tr>SCPZR03981478   06.12.2017      23.11.2017      41690  ELVITIS-COM SRL                          CHISINAU, str.Varnita, 8/1     7458.66         4          Собран                    Чернецкий А.В.           </tr><tr>CHPZR03904939   07.10.2017      09.10.2017      48013  Jeju Evgheni                             CHISINAU, str.Petricani, 17    106.38          1          Собран                    Русу И.Л.                </tr><tr>CHPZR03907204   09.10.2017      10.10.2017      25121  Racovita Serghei                         CHISINAU, str.Petricani, 17    280.02          1          Открыт                    Раковицэ С.В.            </tr><tr>KTPZR03819735   11.12.2017      18.08.2017      25487  Iancioglo Serghei                        COMRAT, str.Victoriei, 115     1599.24         2          Собран                    Новак В.Д.               </tr><tr>CHPZR03967560   14.11.2017      15.11.2017      52592  Melnic Serghei PF 52592                  CHISINAU, str.Petricani, 17    65.88           1          Собран                    Русу И.Л.                </tr><tr>CHPZR03969568   15.11.2017      16.11.2017      48309  Lupu Victoria PF 2                       CHISINAU, str.Petricani, 17    534.54          1          Собран                    Густинович Р.И.          </tr><tr>SBPZR03783471   15.12.2017      28.07.2017      21605  Aflux-Prim SRL                           BALTI, str.Aerodromului, 7A    31791.66        29         Собран                    Вольский  Д.В.           </tr><tr>CHPZR03974342   17.11.2017      20.11.2017      15792  Дилер PF                                 CHISINAU, str.Petricani, 17    1484.70         2          Открыт                    Василаки М.С.            </tr><tr>SCPZR03236635   17.12.2017      20.07.2016      31515  ZERNOFF PF                               CHISINAU, str. Uzinelor, 88    1861.08         6          Собран                    Мироненко С.Д.           </tr><tr>SCPZR03304218   17.12.2017      05.09.2016      31817  Bodrug Iurie                             CHISINAU, str. Uzinelor, 88    664.32          1          Собран                    Мироненко С.Д.           </tr><tr>CHPZR03976631   18.11.2017      20.11.2017      48007  ESAPAMENT COM SRL                        CHISINAU, str.Petricani, 17    169.56          1          Собран                    Веб М..                  </tr><tr>CHPZR03977351   20.11.2017      21.11.2017      19969  Terenti Simeon PF                        CHISINAU, str.Petricani, 17    1286.52         1          Открыт                    Веб М..                  </tr><tr>CHPZR03985527   23.11.2017      24.11.2017      1      Ivanov Alex 1                            CHISINAU, str.Petricani, 17    3096.90         3          Собран                    Черника М.Ф.             </tr><tr>CHPZR03931902   24.10.2017      25.10.2017      53537  Дубевка Виктор                           CHISINAU, str.Varnita, 8/1     956.16          1          Собран                    Чернецкий А.В.           </tr><tr>CHPZR03986672   24.11.2017      27.11.2017      58191  STRONGHOLD SRL                           CHISINAU, str.Petricani, 17    3325.92         2          Собран                    Раилян А.В.              </tr><tr>CHPZR03987426   24.11.2017      27.11.2017      25023  Timbalari Marin PF                       CHISINAU, str.Petricani, 17    736.20          1          Собран                    Веб М..                  </tr><tr>CHPZR03987709   25.11.2017      27.11.2017      26933  Rusu Iurie Victor                        CHISINAU, str.Petricani, 17    1726.44         2          Собран                    Веб М..                  </tr><tr>KTPZR03937896   27.10.2017      30.10.2017      25908  Uzun Leonid PF                           COMRAT, str.Victoriei, 115     290.22          1          Собран                    Новак В.Д.               </tr><tr>CHPZR03990437   27.11.2017      28.11.2017      18450  Popovici Alexandr PF                     CHISINAU, str.Petricani, 17    271.80          1          Собран                    Веб М..                  </tr><tr>CHPZR03991394   28.11.2017      29.11.2017      25023  Timbalari Marin PF                       CHISINAU, str.Petricani, 17    93.12           1          Собран                    Веб М..                  </tr><tr>CHPZR03995156   29.11.2017      30.11.2017      26408  Galu&amp;CO SRL                              CHISINAU, str.Petricani, 17    1697.76         1          Собран                    Веб М..                  </tr><tr>CHPZR03997077   30.11.2017      01.12.2017      21950  Iuzvenco Serghei PF                      CHISINAU, str.Petricani, 17    495.42          1          Собран                    Зайков А.А.              </tr><tr>CHPZR03997201   30.11.2017      01.12.2017      44264  NESTERIUC TAMARA PF                      CHISINAU, str.Petricani, 17    188.94          1          Собран                    Никифоряк И.В.           </tr></tr></table><BR><BR><h5><b><font color=\"#000099\">22 May 2018 17:09:26:480<BR><align=left>Конец сообщения.</font></b></h5></tr></table><BR><BR><h5><b><font color=\"#000099\">22 May 2018 17:09:26:480<BR><align=left>Конец сообщения.</font></b></h5>",
            //    Date = DateTime.Now,
            //    Subject = "Товар \"под заказ\" не оприходован в указанный срок",
            //    Address = "liliya.rusnak@automall.md"
            //});
            return View(model);
        }
    }
}